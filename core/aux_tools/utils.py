import json
from sympy import Float

text_expr = ['2*√5', '10*√2', '5*√2', '√3/2', '√646', '7*√2', '2*√221', '√33', '19*√2/2', '8*√3', '√26', '6*√2',
             '15*√2/2', '39*√2/2', '2*√15', '14*√3/3', '√297', '15/14√19', '√10/5', '19*√2/2', '4*√3', '15/2√3', '√2/3',
             '14*√3', '7*√3', '3*√5', '4*√3', '14*√3', '4*√2', '2*√21', '√147', '√141', '24*√2', '4*√3', '2*√13',
             '2*√10', '13*√2', '5*√13', '3*√13', '3*√5', '√218', '21*√2/2', '7*√3', '8*√5', '10*√2', '9*√3', '10*√3',
             '8*√3', '4*√2', '16*√3', '√3', '2*√13', '3*√2', '5.5*√3', '21*√3', '√7', '17/2√3', '4*√2', '4*√2', '4*√3',
             '4*√2', '8*√5', '2*√11', '10*√3', '2*√41', '16*√5', '4*√6', '8*√3', '4*√15', '5*√3', '24*√3', '3*√35',
             '√336', '2*√6', '6*√2', '33*√3', '3*√19', '5*√2/2', '6*√3', '10*√3', '6*√5', '5*√5', '6*√6', '2.5*√3',
             '4*√6', '√21', '18*√6', '36*√7', '28*√3/3']


def load_json(filename):
    with open(filename, "r", encoding="utf-8") as f:
        return json.load(f)


def save_json(data, filename):
    with open(filename, "w", encoding="utf-8") as f:
        json.dump(data, f, ensure_ascii=False, indent=2)


def rough_equal(a, b):
    """Accuracy is controlled at 0.01"""
    return abs(a - b) < 0.01


def number_round(n):
    """Round to 6 if n is Float."""
    if isinstance(n, Float):
        return n.round(6)
    return n
